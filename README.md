# üåê Mindful Web Extensions
*Browser extensions for mindful internet tracking*

[![Chrome](https://img.shields.io/badge/Chrome-Extension-green)](https://chrome.google.com/webstore)
[![Manifest V3](https://img.shields.io/badge/Manifest-V3-blue)](https://developer.chrome.com/docs/extensions/mv3/)
[![Privacy](https://img.shields.io/badge/Privacy-First-green)](https://github.com/Jaldsky/mindful-web)
[![Tests](https://img.shields.io/badge/Tests-Passing-brightgreen)](extensions/chrome)
[![Coverage](https://img.shields.io/badge/Coverage-95%25-brightgreen)](extensions/chrome)

> **Mindful Web Extensions** ‚Äî browser extensions for tracking internet activity and restoring control over your attention.

---

## üåç About / –û –ø—Ä–æ–µ–∫—Ç–µ

### üá¨üáß English
Mindful Web Extensions is a set of browser extensions that help track your internet activity. The extension works in the background and collects data about tab switching, domains you visit, and activity time. All data is stored locally first and sent to your backend in batches for optimal performance.

### üá∑üá∫ –†—É—Å—Å–∫–∏–π
Mindful Web Extensions ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏, –¥–æ–º–µ–Ω–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø–æ—Å–µ—â–∞–µ—Ç–µ, –∏ –≤—Ä–µ–º–µ–Ω–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–Ω–∞—á–∞–ª–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ –≤–∞—à –±—ç–∫–µ–Ω–¥ –±–∞—Ç—á–∞–º–∏ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

## ‚ú® Features / –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üá¨üáß English
- üïí **Activity Tracking**: Automatic tracking of tab switching and focus changes
- üìä **Domain Analysis**: Statistics collection for visited websites
- üîÑ **Offline Mode**: Local data storage when internet is unavailable
- üì¶ **Batch Processing**: Optimized data sending to server
- üîí **Privacy-First**: Only domains, never full URLs or content
- ‚öôÔ∏è **Configurable**: Customizable backend URL and settings
- üåì **Theme Support**: Light and dark themes with seamless switching
- üåç **Multilingual**: Full support for English and Russian languages

### üá∑üá∫ –†—É—Å—Å–∫–∏–π
- üïí **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
- üìä **–ê–Ω–∞–ª–∏–∑ –¥–æ–º–µ–Ω–æ–≤**: –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –ø–æ—Å–µ—â–∞–µ–º—ã–º —Å–∞–π—Ç–∞–º
- üîÑ **–û—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ª–æ–∫–∞–ª—å–Ω–æ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- üì¶ **–ë–∞—Ç—á–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- üîí **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å**: –¢–æ–ª—å–∫–æ –¥–æ–º–µ–Ω—ã, –Ω–∏–∫–æ–≥–¥–∞ –ø–æ–ª–Ω—ã–µ URL –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
- ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ—Å—Ç—å**: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π URL –±—ç–∫–µ–Ω–¥–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- üåì **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º**: –°–≤–µ—Ç–ª–∞—è –∏ —Ç–µ–º–Ω–∞—è —Ç–µ–º—ã —Å –ø–ª–∞–≤–Ω—ã–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º
- üåç **–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å**: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –∏ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤

## üõ†Ô∏è Tech Stack / –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Browser**: Chrome 88+ with Manifest V3 support
- **Storage**: Chrome Storage API for local data persistence
- **Background**: Service Worker for background processing
- **UI**: HTML/CSS/JavaScript for popup and options pages
- **API**: RESTful communication with FastAPI backend

---

## üöÄ Quick Start / –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### üá¨üáß English

#### 1. Prerequisites
- **Backend Server**: Ensure your FastAPI backend is running on `http://localhost:8000`
- **API Endpoint**: Must be available `POST /api/v1/events/send`
- **Chrome Browser**: Version 88+ with Manifest V3 support
- **Node.js**: Version 14+ for building the extension

#### 2. Build Extension
```bash
cd extensions/chrome
npm install          # Install dependencies
npm run build        # Build the extension
```

This will create a `dist/` folder with the bundled extension files.

#### 3. Install Extension
1. Open Chrome and go to `chrome://extensions/`
2. Enable **Developer mode** in the top right corner
3. Click **"Load unpacked"**
4. Select the folder `extensions/chrome/dist/`
5. Verify installation: Extension should appear in the list and auto-activate

#### 3. Configure
1. Click the extension icon in the toolbar
2. Click **"Settings"** to open the settings page
3. Change backend URL if needed (default: `http://localhost:8000/api/v1/events/send`)
4. Choose your preferred theme (‚òÄÔ∏è Light or üåô Dark) using the theme toggle button
5. Select your language (üåê EN or RU) using the language toggle button
6. Click **"Save Settings"**

#### 4. Test
1. In the popup, ensure status shows **"Connection: Online"**
2. Click **"Test Connection"** to verify backend communication
3. Open several tabs and switch between them
4. Watch the **"Events tracked"** counter increase in the popup

### üá∑üá∫ –†—É—Å—Å–∫–∏–π

#### 1. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **–ë—ç–∫–µ–Ω–¥ —Å–µ—Ä–≤–µ—Ä**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à FastAPI –±—ç–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:8000`
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç API**: –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω `POST /api/v1/events/send`
- **Chrome –±—Ä–∞—É–∑–µ—Ä**: –í–µ—Ä—Å–∏—è 88+ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Manifest V3
- **Node.js**: –í–µ—Ä—Å–∏—è 14+ –¥–ª—è —Å–±–æ—Ä–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

#### 2. –°–±–æ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
```bash
cd extensions/chrome
npm install          # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm run build        # –°–±–æ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –ø–∞–ø–∫—É `dist/` —Å —Ñ–∞–π–ª–∞–º–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.

#### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
1. –û—Ç–∫—Ä–æ–π—Ç–µ Chrome –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `chrome://extensions/`
2. –í–∫–ª—é—á–∏—Ç–µ **"–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞"** (Developer mode) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
3. –ù–∞–∂–º–∏—Ç–µ **"–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ"** (Load unpacked)
4. –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É `extensions/chrome/dist/`
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å—Å—è

#### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞
1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤ –ø–∞–Ω–µ–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
2. –ù–∞–∂–º–∏—Ç–µ **"Settings"** –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫
3. –ò–∑–º–µ–Ω–∏—Ç–µ URL –±—ç–∫–µ–Ω–¥–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `http://localhost:8000/api/v1/events/send`)
4. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—É—é —Ç–µ–º—É (‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è –∏–ª–∏ üåô –¢—ë–º–Ω–∞—è) —Å –ø–æ–º–æ—â—å—é –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã
5. –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ (üåê EN –∏–ª–∏ RU) —Å –ø–æ–º–æ—â—å—é –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–∞
6. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"**

#### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
1. –í popup —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç–∞—Ç—É—Å **"Connection: Online"**
2. –ù–∞–∂–º–∏—Ç–µ **"Test Connection"** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤—è–∑–∏ —Å –±—ç–∫–µ–Ω–¥–æ–º
3. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∫–ª–∞–¥–æ–∫ –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –º–µ–∂–¥—É –Ω–∏–º–∏
4. –°–ª–µ–¥–∏—Ç–µ –∑–∞ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º —Å—á–µ—Ç—á–∏–∫–∞ **"Events tracked"** –≤ popup

---

## üìä How It Works / –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### üá¨üáß English

#### Event Tracking
The extension tracks the following events:
- **`active`**: When a tab becomes active
- **`inactive`**: When a tab loses focus
- **`tab_removed`**: When a tab is closed
- **`window_focus`**: When browser window gains/loses focus

#### Data Format
Events are sent in the following format:

```json
{
  "data": [
    {
      "event": "active",
      "domain": "example.com",
      "timestamp": "2024-01-15T10:30:00.000Z"
    }
  ]
}
```

#### Batch Processing
- Events accumulate locally in a queue
- Sending occurs in batches of 10 events or every 30 seconds
- Data is stored locally when internet is unavailable
- Queue is automatically processed when connection is restored

### üá∑üá∫ –†—É—Å—Å–∫–∏–π

#### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–±—ã—Ç–∏—è:
- **`active`**: –ö–æ–≥–¥–∞ –≤–∫–ª–∞–¥–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ–π
- **`inactive`**: –ö–æ–≥–¥–∞ –≤–∫–ª–∞–¥–∫–∞ —Ç–µ—Ä—è–µ—Ç —Ñ–æ–∫—É—Å
- **`tab_removed`**: –ö–æ–≥–¥–∞ –≤–∫–ª–∞–¥–∫–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- **`window_focus`**: –ö–æ–≥–¥–∞ –æ–∫–Ω–æ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ–ª—É—á–∞–µ—Ç/—Ç–µ—Ä—è–µ—Ç —Ñ–æ–∫—É—Å

#### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
–°–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:

```json
{
  "data": [
    {
      "event": "active",
      "domain": "example.com",
      "timestamp": "2024-01-15T10:30:00.000Z"
    }
  ]
}
```

#### –ë–∞—Ç—á–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- –°–æ–±—ã—Ç–∏—è –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –æ—á–µ—Ä–µ–¥–∏
- –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±–∞—Ç—á–∞–º–∏ –ø–æ 10 —Å–æ–±—ã—Ç–∏–π –∏–ª–∏ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- –ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –æ—á–µ—Ä–µ–¥—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è

---

## üõ†Ô∏è Development / –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### üá¨üáß English

#### Architecture
- **Service Worker** (`tracker.js`): Main tracking logic
- **Popup** (`src/popup.js`): Entry point for popup interface
- **App Managers** (`src/app_manager/`): Modular manager classes
- **Options** (`options.js`): Settings page
- **Manifest V3**: Modern Chrome extensions standard
- **Webpack**: Module bundler for ES6 modules

#### Building
```bash
cd extensions/chrome

# Development build
npm run build

# Production build (minified)
npm run build:prod

# Watch mode (auto-rebuild)
npm run watch
```

#### Debugging
1. Open `chrome://extensions/`
2. Find the extension and click **"Inspect views: service worker"**
3. Use console to view logs
4. In popup, click **"Run Diagnostics"** for diagnostics
5. Use source maps for debugging bundled code

#### Code Quality & Pre-commit Hooks
This project uses automated code quality checks before every commit.

**üîç What is checked:**
- ‚úÖ **Tests** - All Jest tests must pass
- ‚úÖ **Linter** - ESLint with auto-fix for code quality
- ‚úÖ **Code style** - Automatic formatting corrections

**‚ö° Pre-commit Hooks Setup (First Time):**

After cloning the repository, just run:
```bash
cd extensions/chrome
npm install
```

That's it! Hooks are configured automatically and will run on every commit.

> **Note:** In CI environments, hooks installation is automatically skipped.

**What happens on commit:**
1. üß™ **npm test** - Runs all 1029 tests (~7 seconds)
2. üîç **npm run lint:fix** - Checks code quality and auto-fixes issues
3. ‚ùå **Blocks commit** if tests fail or linter finds errors
4. ‚úÖ **Allows commit** if all checks pass (warnings are OK)

**Manual testing:**
```bash
# Run tests manually
cd extensions/chrome
npm test

# Run linter with auto-fix
npm run lint:fix

# Test pre-commit hook manually
cd ../..
.husky/pre-commit
```

**Commit from terminal (see full output):**
```bash
git add .
git commit -m "your message"

# You will see:
# ==========================================
# üîç PRE-COMMIT CHECKS
# ==========================================
# üß™ Running tests...
# ‚úÖ Tests passed
# üîç Running linter...
# ‚úÖ All checks passed!
```

**Commit from WebStorm/IDE:**
- Open built-in Terminal (Alt+F12 / Option+F12)
- Use `git commit` commands there to see full output
- Or commit via IDE UI (output in Version Control ‚Üí Console)

**Skip hooks (if urgently needed):**
```bash
# Skip hooks for one commit
git commit --no-verify -m "urgent fix"
```

### üá∑üá∫ –†—É—Å—Å–∫–∏–π

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **Service Worker** (`tracker.js`): –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ç—Ä–µ–∫–∏–Ω–≥–∞
- **Popup** (`popup.html/js`): –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å—Ç–∞—Ç—É—Å–∞
- **Options** (`options.html/js`): –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **Manifest V3**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π Chrome

#### –û—Ç–ª–∞–¥–∫–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ `chrome://extensions/`
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏ –Ω–∞–∂–º–∏—Ç–µ **"Inspect views: service worker"**
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤
4. –í popup –Ω–∞–∂–º–∏—Ç–µ **"Run Diagnostics"** –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

#### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ –∏ Pre-commit —Ö—É–∫–∏
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º.

**üîç –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- ‚úÖ **–¢–µ—Å—Ç—ã** - –í—Å–µ Jest —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏
- ‚úÖ **–õ–∏–Ω—Ç–µ—Ä** - ESLint —Å –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- ‚úÖ **–°—Ç–∏–ª—å –∫–æ–¥–∞** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**‚ö° –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Pre-commit —Ö—É–∫–æ–≤ (–ø–µ—Ä–≤—ã–π —Ä–∞–∑):**

–ü–æ—Å–ª–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
cd extensions/chrome
npm install
```

–í—Å—ë! –•—É–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –±—É–¥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ.

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í CI –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ö—É–∫–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è.

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ:**
1. üîç ESLint –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ JavaScript —Ñ–∞–π–ª—ã
2. üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
3. ‚ùå –ë–ª–æ–∫–∏—Ä—É–µ—Ç –∫–æ–º–º–∏—Ç –µ—Å–ª–∏ –æ—Å—Ç–∞–ª–∏—Å—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
4. ‚úÖ –†–∞–∑—Ä–µ—à–∞–µ—Ç –∫–æ–º–º–∏—Ç –µ—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã

**–†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤—Ä—É—á–Ω—É—é
cd extensions/chrome
npm test

# –ó–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–∞ —Å –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
npm run lint:fix

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ pre-commit —Ö—É–∫–∞ –≤—Ä—É—á–Ω—É—é
cd ../..
.husky/pre-commit
```

**–ö–æ–º–º–∏—Ç —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª (–≤–∏–¥–µ–Ω –ø–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥):**
```bash
git add .
git commit -m "–≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"

# –í—ã —É–≤–∏–¥–∏—Ç–µ:
# ==========================================
# üîç PRE-COMMIT CHECKS
# ==========================================
# üß™ Running tests...
# ‚úÖ Tests passed
# üîç Running linter...
# ‚úÖ All checks passed!
```

**–ö–æ–º–º–∏—Ç —á–µ—Ä–µ–∑ WebStorm/IDE:**
- –û—Ç–∫—Ä–æ–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Terminal (Alt+F12 / Option+F12)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã `git commit` —Ç–∞–º –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
- –ò–ª–∏ –∫–æ–º–º–∏—Ç—å—Ç–µ —á–µ—Ä–µ–∑ UI IDE (–≤—ã–≤–æ–¥ –≤ Version Control ‚Üí Console)

**–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö—É–∫–∏ (–µ—Å–ª–∏ —Å—Ä–æ—á–Ω–æ –Ω—É–∂–Ω–æ):**
```bash
# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö—É–∫–∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞
git commit --no-verify -m "—Å—Ä–æ—á–Ω—ã–π —Ñ–∏–∫—Å"
```

---

## üîí Privacy & Security / –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### üá¨üáß English
- **Local Storage**: All data is stored locally first
- **User Control**: User can configure backend URL
- **Minimal Permissions**: Extension requests only necessary permissions
- **No Scripts**: Does not inject code into web pages
- **Domain Only**: Tracks only domains, never full URLs or content

### üá∑üá∫ –†—É—Å—Å–∫–∏–π
- **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–Ω–∞—á–∞–ª–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- **–ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å URL –±—ç–∫–µ–Ω–¥–∞
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è**: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- **–ë–µ–∑ —Å–∫—Ä–∏–ø—Ç–æ–≤**: –ù–µ –≤–Ω–µ–¥—Ä—è–µ—Ç –∫–æ–¥ –Ω–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **–¢–æ–ª—å–∫–æ –¥–æ–º–µ–Ω—ã**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–æ–º–µ–Ω—ã, –Ω–∏–∫–æ–≥–¥–∞ –ø–æ–ª–Ω—ã–µ URL –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ

## üìù Permissions / –†–∞–∑—Ä–µ—à–µ–Ω–∏—è

The extension uses the following permissions:
- `tabs`: For tracking tab activity
- `storage`: For local data storage
- `activeTab`: For getting current tab information
- `host_permissions`: For sending data to configured backend

---

## üß™ Testing / –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### üá¨üáß English

#### Automated Testing
```bash
# Install dependencies
cd extensions/chrome
npm install

# Run all tests
npm test

# Run tests with coverage
npm run test:coverage

# Run tests in watch mode
npm run test:watch
```

#### Code Quality Checks
```bash
# Run ESLint manually
cd extensions/chrome
npm run lint

# Run ESLint with auto-fix
npm run lint:fix

# Test pre-commit hook manually
.husky/pre-commit

# Check code quality before commit
git add .
git commit -m "your message"  # Pre-commit hooks run automatically
```

#### Manual Testing
1. Open `chrome://extensions/`
2. Enable Developer mode
3. Load the extension from `extensions/chrome/`
4. Use the popup to monitor status
5. Open `extensions/chrome/tests/test-runner.html` for interactive testing
6. Check browser console for logs

### üá∑üá∫ –†—É—Å—Å–∫–∏–π

#### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
cd extensions/chrome
npm install

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
npm test

# –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞
npm run test:coverage

# –¢–µ—Å—Ç—ã –≤ —Ä–µ–∂–∏–º–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è
npm run test:watch
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
```bash
# –ó–∞–ø—É—Å–∫ ESLint –≤—Ä—É—á–Ω—É—é
cd extensions/chrome
npm run lint

# –ó–∞–ø—É—Å–∫ ESLint —Å –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
npm run lint:fix

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ pre-commit —Ö—É–∫–∞ –≤—Ä—É—á–Ω—É—é
.husky/pre-commit

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
git add .
git commit -m "your message"  # Pre-commit —Ö—É–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

#### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –û—Ç–∫—Ä–æ–π—Ç–µ `chrome://extensions/`
2. –í–∫–ª—é—á–∏—Ç–µ —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–∑ `extensions/chrome/`
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ popup –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å—Ç–∞—Ç—É—Å–∞
5. –û—Ç–∫—Ä–æ–π—Ç–µ `extensions/chrome/tests/test-runner.html` –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤

---

## ü§ù Contributing / –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

### üá¨üáß English
We welcome contributions to the project! Please:

1. Fork the repository
2. Create a feature branch: `git checkout -b feature/amazing-feature`
3. Make your changes and test them
4. Create a Pull Request with a description of changes

### üá∑üá∫ –†—É—Å—Å–∫–∏–π
–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞:

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏: `git checkout -b feature/amazing-feature`
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏—Ö
4. –°–æ–∑–¥–∞–π—Ç–µ Pull Request —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üìÑ License / –õ–∏—Ü–µ–Ω–∑–∏—è

This project is licensed under the MIT License. See the LICENSE file for details.

---

**Mindful Web Extensions** ‚Äî restore control over your attention in the digital world! üßò‚Äç‚ôÄÔ∏è

