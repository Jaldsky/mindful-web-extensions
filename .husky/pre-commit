#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

cd extensions/chrome

echo ""
echo "=========================================="
echo "üîç PRE-COMMIT CHECKS"
echo "=========================================="
echo ""

echo "üß™ Running tests..."
npm test

if [ $? -ne 0 ]; then
  echo ""
  echo "=========================================="
  echo "‚ùå TESTS FAILED! COMMIT ABORTED."
  echo "=========================================="
  echo ""
  exit 1
fi

echo ""
echo "üîç Running linter..."
npm run lint:fix

if [ $? -ne 0 ]; then
  echo ""
  echo "=========================================="
  echo "‚ùå LINTER FAILED! COMMIT ABORTED."
  echo "=========================================="
  echo ""
  exit 1
fi

echo ""
echo "=========================================="
echo "‚úÖ ALL CHECKS PASSED!"
echo "=========================================="
echo ""

